(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[393],{8891:function(e,t,r){Promise.resolve().then(r.bind(r,4016))},4016:function(e,t,r){"use strict";r.r(t);var s=r(7437),n=r(2265),a=r(9376),i=r(9064);let o=()=>(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})}),l=()=>{let e=(0,a.useSearchParams)(),t=(0,a.useRouter)(),r=e.get("email")||"",[o,l]=(0,n.useState)(""),[c,d]=(0,n.useState)(!1),u=async e=>{if(e.preventDefault(),!o||6!==o.length){i.ZP.error("Please enter a valid 6-digit OTP");return}d(!0);try{let e=await fetch("/api/auth/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,otp:o})}),s=await e.json();if(!e.ok)throw Error(s.error||"Failed to verify OTP");t.push("/auth/reset-password?email=".concat(encodeURIComponent(r),"&token=").concat(s.resetToken))}catch(e){i.ZP.error(e.message||"Failed to verify OTP")}finally{d(!1)}};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Verify Your Email"}),(0,s.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["We've sent a 6-digit code to ",r]})]}),(0,s.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:u,children:[(0,s.jsx)("div",{className:"rounded-md shadow-sm -space-y-px",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"otp",className:"sr-only",children:"Verification Code"}),(0,s.jsx)("input",{id:"otp",name:"otp",type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:6,required:!0,value:o,onChange:e=>{l(e.target.value.replace(/\D/g,"").slice(0,6))},className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm text-center text-2xl tracking-widest",placeholder:"000000"})]})}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:c?"Verifying...":"Verify Code"})}),(0,s.jsx)("div",{className:"text-center text-sm",children:(0,s.jsx)("button",{type:"button",onClick:()=>t.back(),className:"font-medium text-green-600 hover:text-green-500",children:"Back to previous step"})})]})]})})};t.default=()=>(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)(o,{}),children:(0,s.jsx)(l,{})})}},function(e){e.O(0,[859,971,117,744],function(){return e(e.s=8891)}),_N_E=e.O()}]);