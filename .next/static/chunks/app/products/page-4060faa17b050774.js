(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[286],{3589:function(e,t,s){Promise.resolve().then(s.bind(s,6482))},6482:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var a=s(7437),r=s(2265),l=s(7648),i=s(9267),n=s(6059),c=s(9764),o=s(476);s(7354),s(6968),s(6889);let d=["2'","6.5' - 9'","6.5' - 12'","8' - 10'"],h=["LED","Unlit"],u=["Full","Slim"];function g(e){let{product:t,quantity:s,onQuantityChange:i,onAddToCart:n,cartQuantity:d}=e,h=(0,r.useRef)(null),[u,g]=(0,r.useState)(!1);return(0,a.jsx)("div",{className:"group relative",onMouseEnter:()=>{h.current&&h.current.autoplay.start()},onMouseLeave:()=>{h.current&&(h.current.autoplay.stop(),h.current.slideTo(0,0))},children:(0,a.jsx)(l.default,{href:"/products/".concat(t.id),className:"block h-full",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"relative h-64 overflow-hidden",onClick:e=>{e.preventDefault(),e.stopPropagation()},children:[(0,a.jsx)(c.tq,{onSwiper:e=>{h.current=e,e.autoplay.stop()},modules:[o.W_,o.tl,o.pt],autoplay:{delay:2500,disableOnInteraction:!1},spaceBetween:0,slidesPerView:1,navigation:!0,pagination:{clickable:!0},className:"h-full w-full",children:t.images.map((e,s)=>(0,a.jsx)(c.o5,{children:(0,a.jsx)("img",{src:e,alt:"".concat(t.name," - image ").concat(s+1),className:"w-full h-full object-contain"})},s))}),t.badge&&(0,a.jsx)("span",{className:"absolute top-3 left-3 bg-green-700 text-white text-xs font-bold px-3 py-1 rounded-full z-10",children:t.badge}),d>0&&(0,a.jsx)("span",{className:"absolute top-3 right-3 bg-yellow-500 text-white text-xs font-bold w-6 h-6 flex items-center justify-center rounded-full z-10",children:d})]}),(0,a.jsxs)("div",{className:"p-4 flex-1 flex flex-col",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:t.name}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mb-3 flex-1",children:t.description}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,a.jsxs)("span",{className:"text-lg font-bold text-green-700",children:["$",t.price.toFixed(2)]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[t.height," • ",t.light," • ",t.shape]})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-center justify-between",onClick:e=>{e.preventDefault(),e.stopPropagation()},children:[(0,a.jsxs)("div",{className:"flex items-center border rounded-md overflow-hidden",children:[(0,a.jsx)("button",{onClick:()=>i(s-1),className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 text-gray-600",disabled:s<=1,children:"-"}),(0,a.jsx)("span",{className:"px-3 py-1 bg-white",children:s}),(0,a.jsx)("button",{onClick:()=>i(s+1),className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 text-gray-600",children:"+"})]}),(0,a.jsx)("button",{onClick:()=>{g(!0),n(),setTimeout(()=>g(!1),1e3)},disabled:u,className:"px-4 py-2 rounded-md font-medium text-white ".concat(u?"bg-green-400":"bg-green-600 hover:bg-green-700"," transition-colors"),children:u?"Added!":"Add to Cart"})]})]})]})})})}function m(){let{addToCart:e,getItemQuantity:t}=(0,n.j)(),[s,l]=(0,r.useState)("All"),[c,o]=(0,r.useState)("Featured"),[m,p]=(0,r.useState)({heights:[],lights:[],shapes:[],searchQuery:""}),[x,b]=(0,r.useState)(!1),[f,y]=(0,r.useState)({});(0,r.useEffect)(()=>{y(i.Z.reduce((e,t)=>(e[t.id]=1,e),{}))},[]);let j=(e,t)=>{t>=1&&y(s=>({...s,[e]:t}))},v=(0,r.useMemo)(()=>i.Z.filter(e=>{let t=0===m.heights.length||m.heights.includes(e.height),a=0===m.lights.length||m.lights.includes(e.light),r=0===m.shapes.length||m.shapes.includes(e.shape),l=!m.searchQuery||e.name.toLowerCase().includes(m.searchQuery.toLowerCase())||e.description.toLowerCase().includes(m.searchQuery.toLowerCase()),i=!0;return"Best Sellers"===s&&(i="Best Seller"===e.badge),"Staff Picks"===s&&(i=2===e.id),t&&a&&r&&i&&l}),[m,s]),w=(0,r.useMemo)(()=>{let e=[...v];switch(c){case"Price: Low to High":return e.sort((e,t)=>e.price-t.price);case"Price: High to Low":return e.sort((e,t)=>t.price-e.price);case"Alphabetically, A-Z":return e.sort((e,t)=>e.name.localeCompare(t.name));case"Alphabetically, Z-A":return e.sort((e,t)=>t.name.localeCompare(e.name));default:return e}},[v,c]),N=(e,t)=>{p(s=>({...s,[e]:s[e].includes(t)?s[e].filter(e=>e!==t):[...s[e],t]}))},k=()=>{p({heights:[],lights:[],shapes:[],searchQuery:""}),l("All"),o("Featured")},C=(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md lg:sticky lg:top-24",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("input",{type:"text",placeholder:"Search products...",value:m.searchQuery,onChange:e=>{p(t=>({...t,searchQuery:e.target.value}))},className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent"})}),(0,a.jsx)("button",{onClick:k,className:"text-sm text-green-700 hover:text-green-900 mb-4 font-medium",children:"Clear all filters"}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"font-bold mb-3 text-gray-800",children:"Tree Height"}),(0,a.jsx)("div",{className:"space-y-2",children:d.map(e=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"height-".concat(e),checked:m.heights.includes(e),onChange:()=>N("heights",e),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),(0,a.jsx)("label",{htmlFor:"height-".concat(e),className:"ml-2 text-sm text-gray-700",children:e})]},e))})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"font-bold mb-3 text-gray-800",children:"Light Type"}),(0,a.jsx)("div",{className:"space-y-2",children:h.map(e=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"light-".concat(e),checked:m.lights.includes(e),onChange:()=>N("lights",e),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),(0,a.jsx)("label",{htmlFor:"light-".concat(e),className:"ml-2 text-sm text-gray-700",children:e})]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold mb-3 text-gray-800",children:"Shape"}),(0,a.jsx)("div",{className:"space-y-2",children:u.map(e=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"shape-".concat(e),checked:m.shapes.includes(e),onChange:()=>N("shapes",e),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),(0,a.jsx)("label",{htmlFor:"shape-".concat(e),className:"ml-2 text-sm text-gray-700",children:e})]},e))})]})]});return(0,a.jsxs)("main",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[(0,a.jsx)("div",{className:"lg:hidden mb-4",children:(0,a.jsxs)("button",{onClick:()=>b(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-gray-700 hover:bg-gray-50",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L13 10.414V15a1 1 0 01-.293.707l-2 2A1 1 0 019 17v-6.586L4.293 6.707A1 1 0 014 6V3z",clipRule:"evenodd"})}),"Filters"]})}),(0,a.jsxs)("div",{className:"fixed inset-0 z-40 lg:hidden transition-opacity duration-300 ease-in-out ".concat(x?"opacity-100":"opacity-0 pointer-events-none"),onClick:()=>b(!1),children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-25"}),(0,a.jsxs)("div",{className:"absolute inset-y-0 left-0 w-72 bg-white p-4 shadow-lg transform transition-transform duration-300 ease-in-out ".concat(x?"translate-x-0":"-translate-x-full"),onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("button",{onClick:()=>b(!1),className:"absolute top-2 right-2 p-1 text-gray-500 hover:text-gray-800",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),(0,a.jsx)("div",{className:"mt-8",children:C})]})]}),(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,a.jsx)("aside",{className:"hidden lg:block w-full lg:w-72 flex-shrink-0",children:C}),(0,a.jsxs)("section",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4",children:[(0,a.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:["All","Best Sellers","Staff Picks"].map(e=>(0,a.jsx)("button",{className:"px-4 py-2 rounded-full border font-semibold transition whitespace-nowrap ".concat(s===e?"bg-green-700 text-white border-green-700":"bg-white text-green-900 border-gray-200 hover:bg-gray-100"),onClick:()=>l(e),children:e},e))}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-700 font-medium",children:"Sort by:"}),(0,a.jsxs)("select",{value:c,onChange:e=>o(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[(0,a.jsx)("option",{children:"Featured"}),(0,a.jsx)("option",{children:"Price: Low to High"}),(0,a.jsx)("option",{children:"Price: High to Low"}),(0,a.jsx)("option",{children:"Alphabetically, A-Z"}),(0,a.jsx)("option",{children:"Alphabetically, Z-A"})]})]})]}),0===w.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"}),(0,a.jsx)("button",{onClick:k,className:"mt-4 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Clear all filters"})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6",children:w.map(s=>{let r=t(s.id),l=f[s.id]||1;return(0,a.jsx)(g,{product:s,quantity:l,onQuantityChange:e=>j(s.id,e),onAddToCart:()=>{e({id:s.id,name:s.name,price:s.price,img:s.images[0]},l),y(e=>({...e,[s.id]:1}))},cartQuantity:r},s.id)})})]})]})]})}},6059:function(e,t,s){"use strict";s.d(t,{Z:function(){return n},j:function(){return c}});var a=s(7437),r=s(2265);let l=(0,r.createContext)(void 0),i="xmas_tree_shop_cart";function n(e){let{children:t}=e,[s,n]=(0,r.useState)([]),[c,o]=(0,r.useState)(!0);(0,r.useEffect)(()=>{try{let e=localStorage.getItem(i);e&&n(JSON.parse(e))}catch(e){console.error("Failed to load cart from storage",e)}finally{o(!1)}},[]),(0,r.useEffect)(()=>{try{localStorage.setItem(i,JSON.stringify(s))}catch(e){console.error("Failed to save cart to storage",e)}},[s]);let d=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;n(s=>s.find(t=>t.id===e.id)?s.map(s=>s.id===e.id?{...s,quantity:s.quantity+t}:s):[...s,{...e,quantity:t}])},[]),h=(0,r.useCallback)(e=>{n(t=>t.filter(t=>t.id!==e))},[]),u=(0,r.useCallback)((e,t)=>{if(t<=0){h(e);return}n(s=>s.map(s=>s.id===e?{...s,quantity:t}:s))},[h]),g=(0,r.useCallback)(()=>{n([])},[]),m=(0,r.useCallback)(e=>{var t;return(null===(t=s.find(t=>t.id===e))||void 0===t?void 0:t.quantity)||0},[s]),p=(0,r.useCallback)(()=>s.reduce((e,t)=>e+t.price*t.quantity,0),[s]),x=(0,r.useCallback)(()=>s.reduce((e,t)=>e+t.quantity,0),[s]);return(0,a.jsx)(l.Provider,{value:{cart:s,addToCart:d,removeFromCart:h,updateQuantity:u,clearCart:g,getItemQuantity:m,getCartTotal:p,getCartItemCount:x},children:t})}function c(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},9267:function(e,t){"use strict";t.Z=[{id:1,name:"King Noble Fir",images:["https://nyykggssyasvxrtjhhhb.supabase.co/storage/v1/object/public/Product%20Images/Noble%20Fir%20Christmas%20Tree%20with%20Full%20Decoration.jpg","https://nyykggssyasvxrtjhhhb.supabase.co/storage/v1/object/public/Product%20Images/Noble%20Fir%20Christmas%20Tree%20in%20a%20Farm.webp","https://nyykggssyasvxrtjhhhb.supabase.co/storage/v1/object/public/Product%20Images/Noble%20Fir%20Christmas%20Tree%20with%20No%20Decoration.webp"],height:"6.5' - 9'",shape:"Full",light:"LED",badge:"Best Seller",price:200,description:"A classic, ultra-realistic fir with lush, full branches. Our most popular tree!"},{id:2,name:"Douglas Fir",images:["https://nyykggssyasvxrtjhhhb.supabase.co/storage/v1/object/public/Product%20Images/Douglas%20Fir%20Fully%20Decorated%20Christmas%20Tree.webp","https://nyykggssyasvxrtjhhhb.supabase.co/storage/v1/object/public/Product%20Images/Douglas%20Fir%20Partially%20Decorated%20Christmas%20Tree.webp","https://nyykggssyasvxrtjhhhb.supabase.co/storage/v1/object/public/Product%20Images/Douglas%20Fir%20Christmas%20Tree%20in%20a%20Farm.jpg"],height:"6.5' - 12'",shape:"Slim",light:"Unlit",badge:"Limited Stock",price:220,description:"A snowy, flocked tree for a winter wonderland look. Limited stock!"},{id:3,name:"King Fraser Fir",images:["https://nyykggssyasvxrtjhhhb.supabase.co/storage/v1/object/public/Product%20Images/Fraser%20Fir%20Fully%20Decorated.webp","https://nyykggssyasvxrtjhhhb.supabase.co/storage/v1/object/public/Product%20Images/Fraser%20Fir%20Partially%20Decorated.webp","https://nyykggssyasvxrtjhhhb.supabase.co/storage/v1/object/public/Product%20Images/Fraser%20Fir%20No%20Decoration.webp"],height:"8' - 10'",shape:"Full",light:"LED",price:230,description:"Features a robust profile with dense, two-toned green needles for a lifelike appearance."},{id:4,name:"Balsam Fir",images:["https://nyykggssyasvxrtjhhhb.supabase.co/storage/v1/object/public/Product%20Images/Balsam%20Fir%20Fully%20Decorated%20Christams%20Tree.jpg","https://nyykggssyasvxrtjhhhb.supabase.co/storage/v1/object/public/Product%20Images/Balsam%20Fir%20Partially%20Decorated.jpg","https://nyykggssyasvxrtjhhhb.supabase.co/storage/v1/object/public/Product%20Images/Balsam%20Fir%20Christmas%20Tree%20in%20a%20Farm.jpg"],height:"6.5' - 9'",shape:"Slim",light:"Unlit",price:250,description:"A slender tree perfect for smaller spaces, with a traditional, fragrant profile."}]}},function(e){e.O(0,[957,648,131,971,117,744],function(){return e(e.s=3589)}),_N_E=e.O()}]);