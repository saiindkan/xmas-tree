(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[286],{3589:function(e,t,s){Promise.resolve().then(s.bind(s,6482))},6482:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var r=s(7437),a=s(2265),i=s(9267),l=s(6059);let n=["2'","6.5' - 9'","6.5' - 12'","8' - 10'"],c=["LED","Unlit"],o=["Full","Slim"];function d(e){let{product:t,quantity:s,onQuantityChange:i,onAddToCart:l,cartQuantity:n}=e,[c,o]=(0,a.useState)(!1);return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"relative h-64 overflow-hidden",children:[(0,r.jsx)("img",{src:t.img,alt:t.name,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),t.badge&&(0,r.jsx)("span",{className:"absolute top-3 left-3 bg-green-700 text-white text-xs font-bold px-3 py-1 rounded-full",children:t.badge}),n>0&&(0,r.jsx)("span",{className:"absolute top-3 right-3 bg-yellow-500 text-white text-xs font-bold w-6 h-6 flex items-center justify-center rounded-full",children:n})]}),(0,r.jsxs)("div",{className:"p-4 flex-1 flex flex-col",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:t.name}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mb-3 flex-1",children:t.description}),(0,r.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,r.jsxs)("span",{className:"text-lg font-bold text-green-700",children:["$",t.price.toFixed(2)]}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:[t.height," • ",t.light," • ",t.shape]})]}),(0,r.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center border rounded-md overflow-hidden",children:[(0,r.jsx)("button",{onClick:()=>i(s-1),className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 text-gray-600",disabled:s<=1,children:"-"}),(0,r.jsx)("span",{className:"px-3 py-1 bg-white",children:s}),(0,r.jsx)("button",{onClick:()=>i(s+1),className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 text-gray-600",children:"+"})]}),(0,r.jsx)("button",{onClick:()=>{o(!0),l(),setTimeout(()=>o(!1),1e3)},disabled:c,className:"px-4 py-2 rounded-md font-medium text-white ".concat(c?"bg-green-400":"bg-green-600 hover:bg-green-700"," transition-colors"),children:c?"Added!":"Add to Cart"})]})]})]})}function h(){let{addToCart:e,getItemQuantity:t}=(0,l.j)(),[s,h]=(0,a.useState)("All"),[u,m]=(0,a.useState)("Featured"),[g,p]=(0,a.useState)({heights:[],lights:[],shapes:[],searchQuery:""}),[x,f]=(0,a.useState)({});(0,a.useEffect)(()=>{f(i.Z.reduce((e,t)=>(e[t.id]=1,e),{}))},[]);let b=(e,t)=>{t<1||f(s=>({...s,[e]:t}))},y=(0,a.useMemo)(()=>i.Z.filter(e=>{let t=0===g.heights.length||g.heights.includes(e.height),r=0===g.lights.length||g.lights.includes(e.light),a=0===g.shapes.length||g.shapes.includes(e.shape),i=!g.searchQuery||e.name.toLowerCase().includes(g.searchQuery.toLowerCase())||e.description.toLowerCase().includes(g.searchQuery.toLowerCase()),l=!0;return"Best Sellers"===s&&(l="Best Seller"===e.badge),"Staff Picks"===s&&(l=2===e.id),t&&r&&a&&l&&i}),[g.heights,g.lights,g.shapes,g.searchQuery,s]),j=(0,a.useMemo)(()=>{let e=[...y];switch(u){case"Price: Low to High":return e.sort((e,t)=>e.price-t.price);case"Price: High to Low":return e.sort((e,t)=>t.price-e.price);case"Alphabetically, A-Z":return e.sort((e,t)=>e.name.localeCompare(t.name));case"Alphabetically, Z-A":return e.sort((e,t)=>t.name.localeCompare(e.name));default:return e}},[y,u]),N=(e,t)=>{p(s=>({...s,[e]:s[e].includes(t)?s[e].filter(e=>e!==t):[...s[e],t]}))},w=()=>{p({heights:[],lights:[],shapes:[],searchQuery:""}),h("All"),m("Featured")};return(0,r.jsxs)("main",{className:"max-w-7xl mx-auto py-8 px-2 sm:px-4 flex flex-col lg:flex-row gap-8",children:[(0,r.jsx)("aside",{className:"w-full lg:w-72 mb-6 lg:mb-0",children:(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md sticky top-4",children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)("input",{type:"text",placeholder:"Search products...",value:g.searchQuery,onChange:e=>{p(t=>({...t,searchQuery:e.target.value}))},className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent"})}),(0,r.jsx)("button",{onClick:w,className:"text-sm text-green-700 hover:text-green-900 mb-4 font-medium",children:"Clear all filters"}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"font-bold mb-3 text-gray-800",children:"Tree Height"}),(0,r.jsx)("div",{className:"space-y-2",children:n.map(e=>(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"height-".concat(e),checked:g.heights.includes(e),onChange:()=>N("heights",e),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),(0,r.jsx)("label",{htmlFor:"height-".concat(e),className:"ml-2 text-sm text-gray-700",children:e})]},e))})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"font-bold mb-3 text-gray-800",children:"Light Type"}),(0,r.jsx)("div",{className:"space-y-2",children:c.map(e=>(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"light-".concat(e),checked:g.lights.includes(e),onChange:()=>N("lights",e),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),(0,r.jsx)("label",{htmlFor:"light-".concat(e),className:"ml-2 text-sm text-gray-700",children:e})]},e))})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"font-bold mb-3 text-gray-800",children:"Shape"}),(0,r.jsx)("div",{className:"space-y-2",children:o.map(e=>(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"shape-".concat(e),checked:g.shapes.includes(e),onChange:()=>N("shapes",e),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),(0,r.jsx)("label",{htmlFor:"shape-".concat(e),className:"ml-2 text-sm text-gray-700",children:e})]},e))})]})]})}),(0,r.jsxs)("section",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4",children:[(0,r.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:["All","Best Sellers","Staff Picks"].map(e=>(0,r.jsx)("button",{className:"px-4 py-2 rounded-full border font-semibold transition whitespace-nowrap ".concat(s===e?"bg-green-700 text-white border-green-700":"bg-white text-green-900 border-gray-200 hover:bg-gray-100"),onClick:()=>h(e),children:e},e))}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-sm text-gray-700 font-medium",children:"Sort by:"}),(0,r.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[(0,r.jsx)("option",{children:"Featured"}),(0,r.jsx)("option",{children:"Price: Low to High"}),(0,r.jsx)("option",{children:"Price: High to Low"}),(0,r.jsx)("option",{children:"Alphabetically, A-Z"}),(0,r.jsx)("option",{children:"Alphabetically, Z-A"})]})]})]}),0===y.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"}),(0,r.jsx)("button",{onClick:w,className:"mt-4 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Clear all filters"})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(s=>{let a=t(s.id),i=x[s.id]||1;return(0,r.jsx)(d,{product:s,quantity:i,onQuantityChange:e=>b(s.id,e),onAddToCart:()=>{e({id:s.id,name:s.name,price:s.price,img:s.img},i),f(e=>({...e,[s.id]:1}))},cartQuantity:a},s.id)})})]})]})}},6059:function(e,t,s){"use strict";s.d(t,{Z:function(){return n},j:function(){return c}});var r=s(7437),a=s(2265);let i=(0,a.createContext)(void 0),l="xmas_tree_shop_cart";function n(e){let{children:t}=e,[s,n]=(0,a.useState)([]),[c,o]=(0,a.useState)(!0);(0,a.useEffect)(()=>{try{let e=localStorage.getItem(l);e&&n(JSON.parse(e))}catch(e){console.error("Failed to load cart from storage",e)}finally{o(!1)}},[]),(0,a.useEffect)(()=>{try{localStorage.setItem(l,JSON.stringify(s))}catch(e){console.error("Failed to save cart to storage",e)}},[s]);let d=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;n(s=>s.find(t=>t.id===e.id)?s.map(s=>s.id===e.id?{...s,quantity:s.quantity+t}:s):[...s,{...e,quantity:t}])},[]),h=(0,a.useCallback)(e=>{n(t=>t.filter(t=>t.id!==e))},[]),u=(0,a.useCallback)((e,t)=>{if(t<=0){h(e);return}n(s=>s.map(s=>s.id===e?{...s,quantity:t}:s))},[h]),m=(0,a.useCallback)(()=>{n([])},[]),g=(0,a.useCallback)(e=>{var t;return(null===(t=s.find(t=>t.id===e))||void 0===t?void 0:t.quantity)||0},[s]),p=(0,a.useCallback)(()=>s.reduce((e,t)=>e+t.price*t.quantity,0),[s]),x=(0,a.useCallback)(()=>s.reduce((e,t)=>e+t.quantity,0),[s]);return(0,r.jsx)(i.Provider,{value:{cart:s,addToCart:d,removeFromCart:h,updateQuantity:u,clearCart:m,getItemQuantity:g,getCartTotal:p,getCartItemCount:x},children:t})}function c(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},9267:function(e,t){"use strict";t.Z=[{id:1,name:"King Noble Fir",img:"https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=400&q=80",height:"6.5' - 9'",shape:"Full",light:"LED",badge:"Best Seller",price:399,description:"A classic, ultra-realistic fir with lush, full branches. Our most popular tree!"},{id:2,name:"Queen Flock",img:"https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=400&q=80",height:"6.5' - 12'",shape:"Slim",light:"Unlit",badge:"Limited Stock",price:499,description:"A snowy, flocked tree for a winter wonderland look. Limited stock!"},{id:3,name:"King Fraser Fir",img:"https://images.unsplash.com/photo-1512820790803-83ca734da794?auto=format&fit=crop&w=400&q=80",height:"6.5' - 12'",shape:"Full",light:"LED",badge:"",price:459,description:"Realistic Fraser Fir with built-in LED lights and a classic holiday silhouette."},{id:4,name:"Mini Tabletop Tree",img:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=400&q=80",height:"2'",shape:"Slim",light:"Unlit",badge:"",price:59,description:"Perfect for desks or apartments. Add a little Christmas anywhere!"},{id:6,name:"Test Ornament",img:"https://images.unsplash.com/photo-1544947950-fa07a98d237f?auto=format&fit=crop&w=400&q=80",height:"Small",shape:"Round",light:"N/A",badge:"Test Item",price:1,description:"A $1 test ornament for testing the checkout process. Perfect for trying out the payment flow!"},{id:5,name:"Luxury Noble Fir",img:"https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=400&q=80",height:"8' - 10'",shape:"Full",light:"LED",badge:"",price:699,description:"Our most luxurious tree, with extra fullness and height for grand spaces."}]}},function(e){e.O(0,[971,117,744],function(){return e(e.s=3589)}),_N_E=e.O()}]);